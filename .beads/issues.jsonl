{"id":"mybd-71w","title":"Zero doctor warnings after bd init in clean room","description":"After running 'bd init' in a fresh git repo followed by committing the generated files, 'bd doctor' still reports 6 warnings. A project aiming to use beads should have ZERO doctor issues after initialization. This epic tracks each warning as a separate issue.","status":"open","priority":1,"issue_type":"epic","owner":"maphew@gmail.com","created_at":"2026-02-19T22:31:21Z","created_by":"maphew","updated_at":"2026-02-19T22:31:21Z","labels":["clean-room","doctor","init"]}
{"id":"mybd-71w.1","title":"Federation checks fail with 'database not found: beads' after clean bd init","description":"After 'bd init' in a clean repo, 3 federation checks all fail with 'Error 1049: database not found: beads':\n- Peer Connectivity: Unable to list remotes\n- Federation Conflicts: Unable to check conflicts  \n- Dolt Mode: Unable to list remotes\n\nThe database is named 'beads_mybd' (prefixed), but federation queries appear to look for a database named 'beads'. These checks should either: (a) query the correct database name, or (b) gracefully pass when no federation peers are configured (the 'Federation remotesapi' and 'Sync Staleness' checks already correctly return N/A).\n\nSeverity: WARNING (×3 warnings from single root cause)\nCategory: FEDERATION / BUG\nReproduce: mkdir t \u0026\u0026 cd t \u0026\u0026 git init \u0026\u0026 git commit --allow-empty -m init \u0026\u0026 bd init \u0026\u0026 git add -A \u0026\u0026 git commit -m 'bd init' \u0026\u0026 bd doctor","status":"open","priority":1,"issue_type":"task","owner":"maphew@gmail.com","created_at":"2026-02-19T22:31:33Z","created_by":"maphew","updated_at":"2026-02-19T22:31:33Z","labels":["bug","clean-room","doctor","federation"],"dependencies":[{"issue_id":"mybd-71w.1","depends_on_id":"mybd-71w","type":"parent-child","created_at":"2026-02-19T15:31:33Z","created_by":"maphew","metadata":"{}"}]}
{"id":"mybd-71w.2","title":"Dolt noms LOCK file warning after clean bd init","description":"After 'bd init' in a clean repo, doctor reports:\n  'noms LOCK file exists at dolt/beads_mybd/.dolt/noms/LOCK — may block database access'\n\nThe LOCK file is empty (0 bytes) and appears to be a leftover from the init process itself. No other dolt process is running. The suggested fix 'bd doctor --fix' does not remove it (says 'No automatic fix available').\n\nThis is likely a bug where bd init creates the LOCK file as part of dolt database initialization but doesn't clean it up. Doctor should either: (a) not flag an empty LOCK as dangerous, (b) bd init should clean up after itself, or (c) --fix should actually remove stale locks.\n\nSeverity: WARNING\nCategory: RUNTIME / BUG\nReproduce: mkdir t \u0026\u0026 cd t \u0026\u0026 git init \u0026\u0026 git commit --allow-empty -m init \u0026\u0026 bd init \u0026\u0026 bd doctor","status":"open","priority":2,"issue_type":"task","owner":"maphew@gmail.com","created_at":"2026-02-19T22:31:42Z","created_by":"maphew","updated_at":"2026-02-19T22:31:42Z","labels":["bug","clean-room","doctor","dolt","lock"],"dependencies":[{"issue_id":"mybd-71w.2","depends_on_id":"mybd-71w","type":"parent-child","created_at":"2026-02-19T15:31:41Z","created_by":"maphew","metadata":"{}"}]}
{"id":"mybd-71w.3","title":"Git Upstream warning after clean bd init is expected but arguably shouldn't be a warning","description":"After 'bd init' in a clean repo, doctor reports:\n  'Git Upstream: No upstream configured for main'\n\nThis is technically correct — a freshly-initialized local repo has no remote. However, this is the expected state immediately after init. A user who just ran 'bd init' in a brand new project hasn't pushed anywhere yet.\n\nOptions:\n1. Don't warn if no git remote exists at all (no origin, no upstream) — this is clearly a new project\n2. Only warn if origin exists but upstream tracking is not set\n3. Downgrade to INFO level for repos with no remotes\n4. Have bd init suppress this by setting a 'freshly-initialized' flag\n\nSeverity: WARNING  \nCategory: GIT INTEGRATION / UX\nReproduce: mkdir t \u0026\u0026 cd t \u0026\u0026 git init \u0026\u0026 git commit --allow-empty -m init \u0026\u0026 bd init \u0026\u0026 git add -A \u0026\u0026 git commit -m 'bd init' \u0026\u0026 bd doctor","status":"open","priority":3,"issue_type":"task","owner":"maphew@gmail.com","created_at":"2026-02-19T22:31:51Z","created_by":"maphew","updated_at":"2026-02-19T22:31:51Z","labels":["clean-room","doctor","git","ux"],"dependencies":[{"issue_id":"mybd-71w.3","depends_on_id":"mybd-71w","type":"parent-child","created_at":"2026-02-19T15:31:50Z","created_by":"maphew","metadata":"{}"}]}
{"id":"mybd-71w.4","title":"Claude Plugin warning after clean bd init — not applicable to non-Claude users","description":"After 'bd init' in a clean repo, doctor reports:\n  'Claude Plugin: beads plugin not installed'\n\nThis warning appears regardless of whether the user uses Claude. For users of other AI coding tools (Amp, Cursor, Copilot, etc.) or no AI tool at all, this warning is irrelevant noise.\n\nOptions:\n1. Only show this warning if Claude is detected (e.g., claude CLI exists, or .claude/ directory exists)\n2. Move to a separate 'optional integrations' section that doesn't count as warnings\n3. Make integration checks configurable (opt-in)\n\nSeverity: WARNING\nCategory: INTEGRATIONS / UX\nReproduce: mkdir t \u0026\u0026 cd t \u0026\u0026 git init \u0026\u0026 git commit --allow-empty -m init \u0026\u0026 bd init \u0026\u0026 git add -A \u0026\u0026 git commit -m 'bd init' \u0026\u0026 bd doctor","status":"open","priority":3,"issue_type":"task","owner":"maphew@gmail.com","created_at":"2026-02-19T22:31:58Z","created_by":"maphew","updated_at":"2026-02-19T22:31:58Z","labels":["claude","clean-room","doctor","integrations","ux"],"dependencies":[{"issue_id":"mybd-71w.4","depends_on_id":"mybd-71w","type":"parent-child","created_at":"2026-02-19T15:31:58Z","created_by":"maphew","metadata":"{}"}]}
{"id":"mybd-71w.5","title":"bd init should leave zero doctor warnings without manual intervention","description":"After 'bd init' (before any manual git operations), doctor reports 10 warnings. Four resolve by committing the generated files. The remaining 6 persist even after committing.\n\nPre-commit warnings that bd init should prevent:\n1. Sync Divergence: Uncommitted .beads/ changes — bd init just created these files but doesn't commit them\n2. Dolt-JSONL Sync: Could not read JSONL file (beads.jsonl missing) — init creates issues.jsonl but doctor checks for beads.jsonl\n3. Git Working Tree: Uncommitted changes — bd init creates files but doesn't add/commit them  \n4. Git Hooks: Missing pre-push — bd init installs hooks but misses pre-push (fixed by --fix --yes)\n\nProposal: bd init should either auto-commit the generated .beads/ directory, or the doctor checks should recognize a freshly-initialized (uncommitted) state as acceptable. At minimum, bd init should install ALL hooks including pre-push.\n\nSeverity: WARNING (×4)\nCategory: INIT / UX  \nReproduce: mkdir t \u0026\u0026 cd t \u0026\u0026 git init \u0026\u0026 git commit --allow-empty -m init \u0026\u0026 bd init \u0026\u0026 bd doctor","status":"open","priority":2,"issue_type":"task","owner":"maphew@gmail.com","created_at":"2026-02-19T22:32:12Z","created_by":"maphew","updated_at":"2026-02-19T22:32:12Z","labels":["clean-room","doctor","init","ux"],"dependencies":[{"issue_id":"mybd-71w.5","depends_on_id":"mybd-71w","type":"parent-child","created_at":"2026-02-19T15:32:11Z","created_by":"maphew","metadata":"{}"}]}
